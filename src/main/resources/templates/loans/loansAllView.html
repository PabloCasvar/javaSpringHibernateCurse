<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Préstamo</title>
</head>
<body>
<h1>Préstamos</h1>
<table>
    <thead>
    <tr>
        <th>Id</th>
        <th>Título del libro</th>
        <th>Nombre del usuario</th>
        <th>Fecha de inicio</th>
        <th>Fecha de término</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="loan : ${loans}">
        <td th:text="${loan.id}"></td>
        <td th:text="${loan.book.title}"></td>
        <td th:text="${loan.user.fullName()}"></td>
        <td th:text="${loan.formattedStartDate()}"></td>
        <td th:text="${#dates.format(loan.endDate, 'dd-MMMM-yyyy')}"></td>
        <td>
            <a
                href="#"
                th:href="@{'/loan/edit/' + ${loan.id}}">
                <button>Editar</button>
            </a>
        </td>
        <td>
            <a
                href="#"
                th:href="@{'/loan/delete/' + ${loan.id}}">
                <button>Eliminar</button>
            </a>
        </td>
    </tr>
    </tbody>
</table>

<br>
<a
    href="#"
    th:href="@{'/loan/newLoanForm'}">
    <button>Agregar</button>
</a>
</body>
</html>